<template>

  <v-container>
    <v-row>
      <v-col cols="12">
        <ScanActivityLineChart :chart-data="scanActivityChartData"/>
      </v-col>
    </v-row>

    <v-row>
      <!-- Random Forest Model Summary -->
      <v-col cols="12" md="6">
        <v-card>
          <v-card-title>Random Forest Model Summary</v-card-title>
          <v-card-text>
            <v-row>
              <v-col cols="12" sm="6">
                <v-card>
                  <v-card-title>Total Scans</v-card-title>
                  <v-card-text>{{ randomForestSummary.totalScans }}</v-card-text>
                </v-card>
              </v-col>
              <v-col cols="12" sm="6">
                <v-card>
                  <v-card-title>Model Accuracy</v-card-title>
                  <v-card-text>{{ randomForestSummary.modelAccuracy }}</v-card-text>
                </v-card>
              </v-col>
            </v-row>
          </v-card-text>
        </v-card>
      </v-col>

      <!-- Deep Learning Model Summary -->
      <v-col cols="12" md="6">
        <v-card>
          <v-card-title>Deep Learning Model Summary</v-card-title>
          <v-card-text>
            <v-row>
              <v-col cols="12" sm="6">
                <v-card>
                  <v-card-title>Total Scans</v-card-title>
                  <v-card-text>{{ deepLearningSummary.totalScans }}</v-card-text>
                </v-card>
              </v-col>
              <v-col cols="12" sm="6">
                <v-card>
                  <v-card-title>Model Accuracy</v-card-title>
                  <v-card-text>{{ deepLearningSummary.modelAccuracy }}</v-card-text>
                </v-card>
              </v-col>
            </v-row>
          </v-card-text>
        </v-card>
      </v-col>
    </v-row>

    <!-- Pie Charts for Model Results -->
    <v-row>
      <v-col cols="12" md="6">
        <ModelPieChart
            :title="'Random Forest Model Results'"
            :chart-data="randomForestChartData"
        />
      </v-col>
      <v-col cols="12" md="6">
        <ModelPieChart
            :title="'Deep Learning Model Results'"
            :chart-data="deepLearningChartData"
        />
      </v-col>
    </v-row>

    <!-- Additional rows and columns for more dashboard components -->
  </v-container>
</template>


<script>
import ScanActivityLineChart from '@/components/ScanActivityLineChart.vue';
import ModelPieChart from '@/components/ModelPieChart.vue';
import {mapGetters, mapState} from 'vuex';


export default {
  name: 'HomePage',
  components: {
    ScanActivityLineChart,
    ModelPieChart,
  },
  computed: {
    ...mapState({
      randomForestChartData: state => state.pieChart.randomForestData,
      deepLearningChartData: state => state.pieChart.deepLearningData,
      scanActivityChartData: state => state.scanActivityChartData,
    }),
    ...mapGetters(['randomForestSummary', 'deepLearningSummary']),
  },
  created() {
    this.$store.dispatch('fetchScanActivityData');
    this.$store.dispatch('fetchModelData', 'random_forest');
    this.$store.dispatch('fetchModelData', 'deep_learning');
  },
};
</script>
